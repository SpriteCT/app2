# Анализ использования полей базы данных

## Поля, которые можно удалить

### 1. `vulnerabilities.asset_type_id` ❌
**Статус:** НЕ используется, можно удалить

**Детали:**
- Поле существует в таблице `vulnerabilities` в БД
- Поле существует в модели `Vulnerability` в `backend/app/models.py`
- **НЕ присутствует** в схемах Pydantic (`VulnerabilityBase`, `VulnerabilityCreate`, `VulnerabilityUpdate`)
- **НЕ используется** на фронтенде
- В роутере `vulnerabilities.py` есть комментарий: "Asset type is derived from asset, no need to verify separately"
- Тип актива выводится из связанного актива через `asset.type_id`

**Рекомендация:** Удалить поле, так как оно избыточно.

---

## Поля, которые используются

### 1. `projects.progress` ✅
**Статус:** Используется

**Детали:**
- Хранится в БД и передается через API
- На фронтенде вычисляется динамически на основе дат (`calculateProgress`), но также берется из `backendProject.progress`
- Используется в `transformProjectToBackend` и `transformProject`
- Может быть полезно для ручного обновления прогресса или сохранения истории

**Рекомендация:** Оставить поле.

---

### 2. `clients.is_default` ✅
**Статус:** Используется

**Детали:**
- Используется на фронтенде для фильтрации клиентов (скрытие клиента по умолчанию)
- Используется в формах создания/редактирования клиентов
- Используется в `App.jsx` для условного отображения

**Рекомендация:** Оставить поле.

---

### 3. `asset_types.description` ⚠️
**Статус:** Не используется на фронтенде, но может быть полезно

**Детали:**
- Поле существует в БД и модели
- Не отображается на фронтенде
- Не используется в формах
- Может быть полезно для документации в БД или будущего использования

**Рекомендация:** Оставить поле (может пригодиться в будущем).

---

### 4. `scanners.description` ⚠️
**Статус:** Не используется на фронтенде, но может быть полезно

**Детали:**
- Поле существует в БД и модели
- Не отображается на фронтенде
- Не используется в формах
- Может быть полезно для документации в БД или будущего использования

**Рекомендация:** Оставить поле (может пригодиться в будущем).

---

## Все остальные поля

Все остальные поля используются в приложении:
- Все поля в `workers` - используются
- Все поля в `clients` - используются
- Все поля в `client_additional_contacts` - используются
- Все поля в `projects` - используются
- Все поля в `project_team_members` - используются
- Все поля в `assets` - используются
- Все поля в `vulnerabilities` (кроме `asset_type_id`) - используются
- Все поля в `tickets` - используются
- Все поля в `ticket_messages` - используются
- Все поля в `ticket_vulnerabilities` - используются
- Все поля в `gantt_tasks` - используются
- Все поля `created_at` и `updated_at` - используются автоматически
- Все поля `is_deleted` - используются для soft delete
- Все поля `display_id` - используются для отображения

---

## Итоговая рекомендация

**Удалить:**
1. `vulnerabilities.asset_type_id` - избыточное поле, тип актива выводится из связанного актива

**Оставить все остальные поля.**


